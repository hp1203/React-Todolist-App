{"ast":null,"code":"import _regeneratorRuntime from \"/Users/himanshupurohit/MyWork/reactjs/react-crud/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/himanshupurohit/MyWork/reactjs/react-crud/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/himanshupurohit/MyWork/reactjs/react-crud/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/himanshupurohit/MyWork/reactjs/react-crud/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/himanshupurohit/MyWork/reactjs/react-crud/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/himanshupurohit/MyWork/reactjs/react-crud/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/himanshupurohit/MyWork/reactjs/react-crud/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/himanshupurohit/MyWork/reactjs/react-crud/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/himanshupurohit/MyWork/reactjs/react-crud/src/App.js\";\nimport axios from 'axios';\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport loadingGif from './loader.gif';\nimport './App.css';\nimport ListItem from './ListItems';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n    _this.state = {\n      newTodo: '',\n      editing: false,\n      editingIndex: null,\n      err: null,\n      todos: [],\n      loading: true //mockapi.io is used\n\n    };\n    _this.apiUrl = 'https://5cb811731551570014da3b1a.mockapi.io';\n    _this.addTodo = _this.addTodo.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.deleteTodo = _this.deleteTodo.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.editTodo = _this.editTodo.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.updateTodo = _this.updateTodo.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.alert = _this.alert.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        var response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get(\"\".concat(this.apiUrl, \"/todos\"));\n\n              case 2:\n                response = _context.sent;\n                //console.log(response);\n                setTimeout(function () {\n                  _this2.setState({\n                    todos: response.data,\n                    loading: false\n                  });\n                }, 2000);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"addTodo\",\n    value: function () {\n      var _addTodo = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var _this3 = this;\n\n        var response, todos;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(this.state.newTodo !== '')) {\n                  _context2.next = 11;\n                  break;\n                }\n\n                _context2.next = 3;\n                return axios.post(\"\".concat(this.apiUrl, \"/todos\"), {\n                  name: this.state.newTodo\n                });\n\n              case 3:\n                response = _context2.sent;\n                console.log(response); //state is IMMUTABLE\n\n                todos = this.state.todos;\n                todos.push(response.data);\n                this.setState({\n                  todos: todos,\n                  newTodo: '',\n                  err: null\n                });\n                this.alert('Todo Added Successfully.');\n                _context2.next = 13;\n                break;\n\n              case 11:\n                this.setState({\n                  err: 'Todo name cannot be empty'\n                });\n                setTimeout(function () {\n                  _this3.setState({\n                    err: null\n                  });\n                }, 2000);\n\n              case 13:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function addTodo() {\n        return _addTodo.apply(this, arguments);\n      }\n\n      return addTodo;\n    }()\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      //console.log(event.target.name, event.target.value);\n      this.setState({\n        newTodo: event.target.value\n      });\n    }\n  }, {\n    key: \"deleteTodo\",\n    value: function () {\n      var _deleteTodo = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(index) {\n        var todos, todo, response;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                //console.log(index);\n                todos = this.state.todos;\n                todo = this.state.todos[index];\n                _context3.next = 4;\n                return axios.delete(\"\".concat(this.apiUrl, \"/todos/\").concat(todo.id));\n\n              case 4:\n                response = _context3.sent;\n                delete todos[index];\n                this.setState({\n                  todos: todos\n                });\n                this.alert('Todo Deleted Successfully.');\n\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function deleteTodo(_x) {\n        return _deleteTodo.apply(this, arguments);\n      }\n\n      return deleteTodo;\n    }()\n  }, {\n    key: \"editTodo\",\n    value: function editTodo(index) {\n      var todo = this.state.todos[index];\n      this.setState({\n        editing: true,\n        newTodo: todo.name,\n        editingIndex: index\n      });\n    }\n  }, {\n    key: \"updateTodo\",\n    value: function () {\n      var _updateTodo = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4() {\n        var _this4 = this;\n\n        var todo, response, todos;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!(this.state.newTodo !== '')) {\n                  _context4.next = 12;\n                  break;\n                }\n\n                todo = this.state.todos[this.state.editingIndex];\n                _context4.next = 4;\n                return axios.put(\"\".concat(this.apiUrl, \"/todos/\").concat(todo.id), {\n                  name: this.state.newTodo\n                });\n\n              case 4:\n                response = _context4.sent;\n                todo.name = this.state.newTodo;\n                todos = this.state.todos;\n                todos[this.state.editingIndex] = response.data; //console.log(this.state.newTodo);\n\n                this.setState({\n                  todos: todos,\n                  newTodo: '',\n                  editing: false,\n                  editingIndex: null,\n                  err: null,\n                  notification: null\n                });\n                this.alert('Todo Updated Successfully.');\n                _context4.next = 14;\n                break;\n\n              case 12:\n                this.setState({\n                  err: 'Todo name cannot be empty'\n                });\n                setTimeout(function () {\n                  _this4.setState({\n                    err: null\n                  });\n                }, 2000);\n\n              case 14:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function updateTodo() {\n        return _updateTodo.apply(this, arguments);\n      }\n\n      return updateTodo;\n    }()\n  }, {\n    key: \"alert\",\n    value: function alert(notification) {\n      var _this5 = this;\n\n      this.setState({\n        notification: notification\n      });\n      setTimeout(function () {\n        _this5.setState({\n          notification: null\n        });\n      }, 2000);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      var Clock = function Clock(props) {\n        var date = new Date();\n        var thisYear = date.getFullYear();\n        return React.createElement(\"p\", {\n          style: {\n            color: props.color,\n            fontSize: props.size\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, \"Copyright \", thisYear);\n      };\n\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        className: \"App-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: logo,\n        className: \"App-logo\",\n        alt: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \"Todo App\")), React.createElement(\"div\", {\n        className: \"container col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"text-center p-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \"Create new todo list\"), this.state.notification && React.createElement(\"div\", {\n        className: \"alert mt-3 alert-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \" \", this.state.notification, \" \")), this.state.err && React.createElement(\"div\", {\n        className: \"alert mt-3 alert-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \" \", this.state.err, \" \")), React.createElement(\"input\", {\n        name: \"todo\",\n        type: \"text\",\n        className: \"my-4 form-control\",\n        placeholder: \"Add New TODO\",\n        onChange: this.handleChange,\n        value: this.state.newTodo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.state.editing ? this.updateTodo : this.addTodo,\n        className: \"mb-4 btn btn-info form-control\",\n        disabled: this.state.newTodo.length < 5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, this.state.editing ? 'Update Todo' : 'Add Todo'), this.state.loading && React.createElement(\"img\", {\n        src: loadingGif,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }), !this.state.editing && React.createElement(\"ul\", {\n        className: \"list-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, this.state.todos.map(function (item, index) {\n        // return <li key={item.id} className=\"list-group-item\">\n        //     {item.name}\n        //     <button \n        //       type=\"button\" \n        //       className=\"right-btn btn btn-default\" \n        //       aria-label=\"Close\"\n        //       onClick={() => {this.deleteTodo(index); }}\n        //     >\n        //       <span aria-hidden=\"true\"><i className=\"fas fa-trash\"></i></span>\n        //     </button>\n        //     <button \n        //       type=\"button\" \n        //       className=\"right-btn btn btn-default\" \n        //       aria-label=\"Close\"\n        //       onClick={() => {this.editTodo(index); }}\n        //     >\n        //       <span aria-hidden=\"true\"><i className=\"fas fa-edit\"></i></span>\n        //     </button>\n        // </li>\n        return React.createElement(ListItem, {\n          key: item.id,\n          item: item,\n          editTodo: function editTodo() {\n            _this6.editTodo(index);\n          },\n          deleteTodo: function deleteTodo() {\n            _this6.deleteTodo(index);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225\n          },\n          __self: this\n        });\n      }))), React.createElement(\"footer\", {\n        className: \"App-footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, \"Design and Developed By \", React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"https://www.linkedin.com/in/himanshu-purohit-b127656a/\",\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, \"Himanshu Purohit\"))), React.createElement(Clock, {\n        color: \"#484848\",\n        size: \"18px\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/himanshupurohit/MyWork/reactjs/react-crud/src/App.js"],"names":["axios","React","Component","loadingGif","ListItem","App","state","newTodo","editing","editingIndex","err","todos","loading","apiUrl","addTodo","bind","deleteTodo","editTodo","updateTodo","handleChange","alert","get","response","setTimeout","setState","data","post","name","console","log","push","event","target","value","index","todo","delete","id","put","notification","Clock","props","date","Date","thisYear","getFullYear","color","fontSize","size","logo","length","map","item"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;AAEA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAO,WAAP;AACA,OAAOC,QAAP,MAAqB,aAArB;;IAEMC,G;;;;;AAEJ,iBAAa;AAAA;;AAAA;;AACX;AAEA,UAAKC,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE,EADE;AAEXC,MAAAA,OAAO,EAAE,KAFE;AAGXC,MAAAA,YAAY,EAAE,IAHH;AAIXC,MAAAA,GAAG,EAAE,IAJM;AAKXC,MAAAA,KAAK,EAAE,EALI;AAMXC,MAAAA,OAAO,EAAE,IANE,CASb;;AATa,KAAb;AAUA,UAAKC,MAAL,GAAc,6CAAd;AACA,UAAKC,OAAL,GAAe,MAAKA,OAAL,CAAaC,IAAb,uDAAf;AACA,UAAKC,UAAL,GAAkB,MAAKA,UAAL,CAAgBD,IAAhB,uDAAlB;AACA,UAAKE,QAAL,GAAgB,MAAKA,QAAL,CAAcF,IAAd,uDAAhB;AACA,UAAKG,UAAL,GAAkB,MAAKA,UAAL,CAAgBH,IAAhB,uDAAlB;AACA,UAAKI,YAAL,GAAoB,MAAKA,YAAL,CAAkBJ,IAAlB,uDAApB;AACA,UAAKK,KAAL,GAAa,MAAKA,KAAL,CAAWL,IAAX,uDAAb;AAnBW;AAoBZ;;;;;;;;;;;;;;;;uBAGwBf,KAAK,CAACqB,GAAN,WAAa,KAAKR,MAAlB,Y;;;AAAjBS,gBAAAA,Q;AACN;AACAC,gBAAAA,UAAU,CAAC,YAAM;AACf,kBAAA,MAAI,CAACC,QAAL,CAAc;AACZb,oBAAAA,KAAK,EAAEW,QAAQ,CAACG,IADJ;AAEZb,oBAAAA,OAAO,EAAE;AAFG,mBAAd;AAID,iBALS,EAKP,IALO,CAAV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sBAUG,KAAKN,KAAL,CAAWC,OAAX,KAAuB,E;;;;;;uBAEDP,KAAK,CAAC0B,IAAN,WAAc,KAAKb,MAAnB,aAAmC;AAExDc,kBAAAA,IAAI,EAAE,KAAKrB,KAAL,CAAWC;AAFuC,iBAAnC,C;;;AAAjBe,gBAAAA,Q;AAKNM,gBAAAA,OAAO,CAACC,GAAR,CAAYP,QAAZ,E,CAEA;;AACMX,gBAAAA,K,GAAQ,KAAKL,KAAL,CAAWK,K;AACzBA,gBAAAA,KAAK,CAACmB,IAAN,CAAWR,QAAQ,CAACG,IAApB;AAEA,qBAAKD,QAAL,CAAc;AACZb,kBAAAA,KAAK,EAAEA,KADK;AAEZJ,kBAAAA,OAAO,EAAE,EAFG;AAGZG,kBAAAA,GAAG,EAAE;AAHO,iBAAd;AAKA,qBAAKU,KAAL,CAAW,0BAAX;;;;;AAEA,qBAAKI,QAAL,CAAc;AACZd,kBAAAA,GAAG,EAAE;AADO,iBAAd;AAGAa,gBAAAA,UAAU,CAAC,YAAM;AACf,kBAAA,MAAI,CAACC,QAAL,CAAc;AACZd,oBAAAA,GAAG,EAAE;AADO,mBAAd;AAGD,iBAJS,EAIP,IAJO,CAAV;;;;;;;;;;;;;;;;;;iCAOSqB,K,EAAO;AAClB;AACA,WAAKP,QAAL,CAAc;AACZjB,QAAAA,OAAO,EAAEwB,KAAK,CAACC,MAAN,CAAaC;AADV,OAAd;AAGD;;;;;;iDACgBC,K;;;;;;AACf;AACMvB,gBAAAA,K,GAAQ,KAAKL,KAAL,CAAWK,K;AACnBwB,gBAAAA,I,GAAO,KAAK7B,KAAL,CAAWK,KAAX,CAAiBuB,KAAjB,C;;uBAEUlC,KAAK,CAACoC,MAAN,WAAgB,KAAKvB,MAArB,oBAAqCsB,IAAI,CAACE,EAA1C,E;;;AAAjBf,gBAAAA,Q;AAEN,uBAAOX,KAAK,CAACuB,KAAD,CAAZ;AACA,qBAAKV,QAAL,CAAc;AACZb,kBAAAA,KAAK,EAAEA;AADK,iBAAd;AAGA,qBAAKS,KAAL,CAAW,4BAAX;;;;;;;;;;;;;;;;;;6BAEOc,K,EAAO;AAEd,UAAMC,IAAI,GAAG,KAAK7B,KAAL,CAAWK,KAAX,CAAiBuB,KAAjB,CAAb;AACA,WAAKV,QAAL,CAAc;AACZhB,QAAAA,OAAO,EAAE,IADG;AAEZD,QAAAA,OAAO,EAAE4B,IAAI,CAACR,IAFF;AAGZlB,QAAAA,YAAY,EAAEyB;AAHF,OAAd;AAKD;;;;;;;;;;;;;;sBAGI,KAAK5B,KAAL,CAAWC,OAAX,KAAuB,E;;;;;AACpB4B,gBAAAA,I,GAAO,KAAK7B,KAAL,CAAWK,KAAX,CAAiB,KAAKL,KAAL,CAAWG,YAA5B,C;;uBAEUT,KAAK,CAACsC,GAAN,WAAa,KAAKzB,MAAlB,oBAAkCsB,IAAI,CAACE,EAAvC,GAA6C;AAClEV,kBAAAA,IAAI,EAAE,KAAKrB,KAAL,CAAWC;AADiD,iBAA7C,C;;;AAAjBe,gBAAAA,Q;AAINa,gBAAAA,IAAI,CAACR,IAAL,GAAY,KAAKrB,KAAL,CAAWC,OAAvB;AAEMI,gBAAAA,K,GAAQ,KAAKL,KAAL,CAAWK,K;AACzBA,gBAAAA,KAAK,CAAC,KAAKL,KAAL,CAAWG,YAAZ,CAAL,GAAiCa,QAAQ,CAACG,IAA1C,C,CACA;;AACA,qBAAKD,QAAL,CAAc;AACZb,kBAAAA,KAAK,EAAEA,KADK;AAEZJ,kBAAAA,OAAO,EAAE,EAFG;AAGZC,kBAAAA,OAAO,EAAE,KAHG;AAIZC,kBAAAA,YAAY,EAAE,IAJF;AAKZC,kBAAAA,GAAG,EAAE,IALO;AAMZ6B,kBAAAA,YAAY,EAAE;AANF,iBAAd;AAQA,qBAAKnB,KAAL,CAAW,4BAAX;;;;;AAEE,qBAAKI,QAAL,CAAc;AACZd,kBAAAA,GAAG,EAAE;AADO,iBAAd;AAGAa,gBAAAA,UAAU,CAAC,YAAM;AACf,kBAAA,MAAI,CAACC,QAAL,CAAc;AACZd,oBAAAA,GAAG,EAAE;AADO,mBAAd;AAGD,iBAJS,EAIP,IAJO,CAAV;;;;;;;;;;;;;;;;;;0BAQE6B,Y,EAAc;AAAA;;AAClB,WAAKf,QAAL,CAAc;AACZe,QAAAA,YAAY,EAAEA;AADF,OAAd;AAIAhB,MAAAA,UAAU,CAAC,YAAM;AACf,QAAA,MAAI,CAACC,QAAL,CAAc;AACZe,UAAAA,YAAY,EAAE;AADF,SAAd;AAGD,OAJS,EAIP,IAJO,CAAV;AAKD;;;6BAEQ;AAAA;;AACP,UAAMC,KAAK,GAAG,SAARA,KAAQ,CAASC,KAAT,EAAgB;AAC5B,YAAMC,IAAI,GAAG,IAAIC,IAAJ,EAAb;AACA,YAAMC,QAAQ,GAAGF,IAAI,CAACG,WAAL,EAAjB;AACA,eAAO;AAAG,UAAA,KAAK,EAAE;AAAEC,YAAAA,KAAK,EAAEL,KAAK,CAACK,KAAf;AAAsBC,YAAAA,QAAQ,EAAEN,KAAK,CAACO;AAAtC,WAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAmEJ,QAAnE,CAAP;AACD,OAJD;;AAKA,aACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,GAAG,EAAEK,IAAV;AAAgB,QAAA,SAAS,EAAC,UAA1B;AAAqC,QAAA,GAAG,EAAC,MAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,CADF,EAME;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAI,QAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADA,EAIE,KAAK3C,KAAL,CAAWiC,YAAX,IACA;AAAK,QAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA6B,KAAKjC,KAAL,CAAWiC,YAAxC,MADF,CALF,EAUE,KAAKjC,KAAL,CAAWI,GAAX,IACA;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA6B,KAAKJ,KAAL,CAAWI,GAAxC,MADF,CAXF,EAeA;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,SAAS,EAAC,mBAHZ;AAIE,QAAA,WAAW,EAAC,cAJd;AAKE,QAAA,QAAQ,EAAE,KAAKS,YALjB;AAME,QAAA,KAAK,EAAE,KAAKb,KAAL,CAAWC,OANpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAfA,EAwBA;AACE,QAAA,OAAO,EAAG,KAAKD,KAAL,CAAWE,OAAX,GAAqB,KAAKU,UAA1B,GAAuC,KAAKJ,OADxD;AAEE,QAAA,SAAS,EAAC,gCAFZ;AAGE,QAAA,QAAQ,EAAE,KAAKR,KAAL,CAAWC,OAAX,CAAmB2C,MAAnB,GAA4B,CAHxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKG,KAAK5C,KAAL,CAAWE,OAAX,GAAqB,aAArB,GAAqC,UALxC,CAxBA,EAiCE,KAAKF,KAAL,CAAWM,OAAX,IACA;AAAK,QAAA,GAAG,EAAET,UAAV;AAAsB,QAAA,GAAG,EAAC,EAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAlCF,EAuCA,CAAC,KAAKG,KAAL,CAAWE,OAAZ,IACA;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKF,KAAL,CAAWK,KAAX,CAAiBwC,GAAjB,CAAqB,UAACC,IAAD,EAAOlB,KAAP,EAAiB;AACrC;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAO,oBAAC,QAAD;AACL,UAAA,GAAG,EAAEkB,IAAI,CAACf,EADL;AAEL,UAAA,IAAI,EAAIe,IAFH;AAGL,UAAA,QAAQ,EAAI,oBAAM;AAAC,YAAA,MAAI,CAACnC,QAAL,CAAciB,KAAd;AAAuB,WAHrC;AAIL,UAAA,UAAU,EAAI,sBAAM;AAAC,YAAA,MAAI,CAAClB,UAAL,CAAgBkB,KAAhB;AAAyB,WAJzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AAOD,OA5BA,CADH,CAxCA,CANF,EAiFE;AAAQ,QAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAA4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAG;AAAG,QAAA,IAAI,EAAC,wDAAR;AAAiE,QAAA,MAAM,EAAC,QAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAH,CAA5B,CADF,EAEE,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAC,SAAb;AAAuB,QAAA,IAAI,EAAC,MAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CAjFF,CADF;AAwFD;;;;EA5OehC,S;;AA+OlB,eAAeG,GAAf","sourcesContent":["import axios from 'axios';\nimport React, { Component } from 'react';\nimport logo from './logo.svg';\nimport loadingGif from './loader.gif';\nimport './App.css';\nimport ListItem from './ListItems'\n\nclass App extends Component {\n\n  constructor(){\n    super();\n\n    this.state = {\n      newTodo: '',\n      editing: false,\n      editingIndex: null,\n      err: null,\n      todos: [],\n      loading: true\n    }\n\n    //mockapi.io is used\n    this.apiUrl = 'https://5cb811731551570014da3b1a.mockapi.io';\n    this.addTodo = this.addTodo.bind(this);\n    this.deleteTodo = this.deleteTodo.bind(this);\n    this.editTodo = this.editTodo.bind(this);\n    this.updateTodo = this.updateTodo.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.alert = this.alert.bind(this);\n  }\n\n   async componentDidMount() {\n    const response = await axios.get(`${this.apiUrl}/todos`);\n    //console.log(response);\n    setTimeout(() => {\n      this.setState({\n        todos: response.data,\n        loading: false\n      });\n    }, 2000);\n  }\n\n\n  async addTodo() {\n    if(this.state.newTodo !== ''){\n\n      const response = await axios.post(`${this.apiUrl}/todos`, {\n\n        name: this.state.newTodo\n\n      });\n      console.log(response);\n\n      //state is IMMUTABLE\n      const todos = this.state.todos;\n      todos.push(response.data);\n\n      this.setState({\n        todos: todos,\n        newTodo: '',\n        err: null\n      });\n      this.alert('Todo Added Successfully.');\n    }else{\n      this.setState({\n        err: 'Todo name cannot be empty' ,\n      });\n      setTimeout(() => {\n        this.setState({\n          err: null\n        });\n      }, 2000);\n    }\n  }\n  handleChange(event) {\n    //console.log(event.target.name, event.target.value);\n    this.setState({\n      newTodo: event.target.value\n    });\n  }\n  async deleteTodo(index) {\n    //console.log(index);\n    const todos = this.state.todos;\n    const todo = this.state.todos[index];\n\n    const response = await axios.delete(`${this.apiUrl}/todos/${todo.id}`);\n\n    delete todos[index];\n    this.setState({\n      todos: todos\n    });\n    this.alert('Todo Deleted Successfully.');\n  }\n  editTodo(index) {\n\n    const todo = this.state.todos[index];\n    this.setState({\n      editing: true,\n      newTodo: todo.name,\n      editingIndex: index\n    });\n  }\n\n  async updateTodo() {\n    if(this.state.newTodo !== ''){\n    const todo = this.state.todos[this.state.editingIndex];\n\n    const response = await axios.put(`${this.apiUrl}/todos/${todo.id}`, {\n      name: this.state.newTodo\n    });\n\n    todo.name = this.state.newTodo;\n\n    const todos = this.state.todos;\n    todos[this.state.editingIndex] = response.data;\n    //console.log(this.state.newTodo);\n    this.setState({\n      todos: todos,\n      newTodo: '',\n      editing: false,\n      editingIndex: null,\n      err: null,\n      notification: null\n    });\n    this.alert('Todo Updated Successfully.');\n    }else{\n      this.setState({\n        err: 'Todo name cannot be empty' ,\n      });\n      setTimeout(() => {\n        this.setState({\n          err: null\n        });\n      }, 2000);\n    } \n  }\n\n  alert(notification) {\n    this.setState({\n      notification: notification\n    });\n\n    setTimeout(() => {\n      this.setState({\n        notification: null\n      });\n    }, 2000);\n  }\n\n  render() {\n    const Clock = function(props) {\n      const date = new Date();\n      const thisYear = date.getFullYear();\n      return <p style={{ color: props.color, fontSize: props.size }}>Copyright {thisYear}</p>\n    }\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <h1>Todo App</h1>\n        </header>\n\n        <div className=\"container col-md-6\">\n        <h2 className=\"text-center p-4\">Create new todo list</h2>\n\n        {\n          this.state.notification &&\n          <div className=\"alert mt-3 alert-success\">\n            <p className=\"text-center\"> {this.state.notification} </p>\n          </div>\n        }\n        {\n          this.state.err &&\n          <div className=\"alert mt-3 alert-danger\">\n            <p className=\"text-center\"> {this.state.err} </p>\n          </div>\n        }\n        <input \n          name=\"todo\"\n          type=\"text\" \n          className=\"my-4 form-control\" \n          placeholder=\"Add New TODO\"\n          onChange={this.handleChange}\n          value={this.state.newTodo}\n        />\n        \n        <button \n          onClick={ this.state.editing ? this.updateTodo : this.addTodo}\n          className=\"mb-4 btn btn-info form-control\"\n          disabled={this.state.newTodo.length < 5}\n        >\n          {this.state.editing ? 'Update Todo' : 'Add Todo'}\n        </button>\n\n        {\n          this.state.loading &&\n          <img src={loadingGif} alt=\"\"/>\n        }\n\n        {\n        \n        !this.state.editing &&\n        <ul className=\"list-group\">\n          {this.state.todos.map((item, index) => {\n            // return <li key={item.id} className=\"list-group-item\">\n            //     {item.name}\n                \n            //     <button \n            //       type=\"button\" \n            //       className=\"right-btn btn btn-default\" \n            //       aria-label=\"Close\"\n            //       onClick={() => {this.deleteTodo(index); }}\n            //     >\n            //       <span aria-hidden=\"true\"><i className=\"fas fa-trash\"></i></span>\n            //     </button>\n            //     <button \n            //       type=\"button\" \n            //       className=\"right-btn btn btn-default\" \n            //       aria-label=\"Close\"\n            //       onClick={() => {this.editTodo(index); }}\n            //     >\n            //       <span aria-hidden=\"true\"><i className=\"fas fa-edit\"></i></span>\n            //     </button>\n            // </li>\n            return <ListItem \n              key={item.id}\n              item = {item}\n              editTodo = {() => {this.editTodo(index); }}\n              deleteTodo = {() => {this.deleteTodo(index); }}\n            />\n\n          })}\n          \n        </ul>\n        }\n        </div>\n        \n        <footer className=\"App-footer\">\n          <h6>Design and Developed By <b><a href=\"https://www.linkedin.com/in/himanshu-purohit-b127656a/\" target=\"_blank\">Himanshu Purohit</a></b></h6>\n          <Clock color=\"#484848\" size=\"18px\"/>\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}